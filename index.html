<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Dinheirinho - Controle Financeiro</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div class="container">
        <!-- Status da Conexão -->
        <div class="connection-status" id="connection-status">
            <i class="fas fa-circle"></i>
            <span>Conectando ao banco de dados...</span>
        </div>

        <header>
            <div class="header-content">
                <div class="logo-title">
                    <img src="Uteis/Logo.png" alt="Logo Meu Dinheirinho" class="logo">
                    <div class="title-container">
                        <h1><i class="fas fa-coins"></i> Meu Dinheirinho</h1>
                        <p class="subtitle">Controle de Transferências - Caio & Itallo</p>
                    </div>
                </div>
                <div class="header-info">
                    <div class="info-item">
                        <i class="fas fa-database"></i>
                        <span>Banco de dados online</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-sync-alt"></i>
                        <span>Dados sincronizados</span>
                    </div>
                </div>
            </div>
        </header>
        
        <div class="resumo-container">
            <div class="resumo-card">
                <div class="resumo-titulo">Saldos Atuais</div>
                <div class="resumo-content">
                    <div class="resumo-item caio-saldo">
                        <div class="resumo-pessoa">
                            <i class="fas fa-user-circle caio-icon"></i>
                            <span class="resumo-label">Saldo do Caio:</span>
                        </div>
                        <span class="resumo-valor" id="saldo-caio">R$ 0,00</span>
                    </div>
                    <div class="resumo-item itallo-saldo">
                        <div class="resumo-pessoa">
                            <i class="fas fa-user-circle itallo-icon"></i>
                            <span class="resumo-label">Saldo do Itallo:</span>
                        </div>
                        <span class="resumo-valor" id="saldo-itallo">R$ 0,00</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="form-container">
            <h2><i class="fas fa-plus-circle"></i> Nova Transferência</h2>
            <form id="form-transferencia">
                <div class="form-group">
                    <label for="de-quem">Transferência</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="caio-para-itallo" name="transferencia" value="caio-para-itallo" required checked>
                            <label for="caio-para-itallo">
                                <i class="fas fa-arrow-right caio-icon"></i>
                                <span>Caio transferiu para Itallo</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="itallo-para-caio" name="transferencia" value="itallo-para-caio" required>
                            <label for="itallo-para-caio">
                                <i class="fas fa-arrow-left itallo-icon"></i>
                                <span>Itallo transferiu para Caio</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="valor">Valor da transferência (R$)</label>
                    <input type="number" id="valor" min="0.01" step="0.01" placeholder="Ex: 100.50" required>
                </div>
                
                <div class="form-group">
                    <label for="descricao">Descrição (opcional)</label>
                    <input type="text" id="descricao" placeholder="Ex: Dinheiro para almoço">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="data">Data</label>
                        <input type="date" id="data" required>
                    </div>
                </div>
                
                <button type="submit" id="btn-registrar">
                    <i class="fas fa-save"></i> Registrar Transferência
                </button>
                <button type="button" id="btn-limpar" class="btn-limpar">
                    <i class="fas fa-broom"></i> Limpar Formulário
                </button>
            </form>
        </div>
        
        <div class="historico-container">
            <div class="historico-header">
                <h2><i class="fas fa-history"></i> Histórico de Transferências</h2>
                <div class="historico-stats">
                    <span id="total-transferencias">0 transferências</span>
                    <span id="valor-total">Total: R$ 0,00</span>
                    <div class="last-update" id="last-update">
                        <i class="fas fa-clock"></i> <span>Atualizando...</span>
                    </div>
                </div>
            </div>
            
            <div id="historico-lista">
                <div class="lista-transferencias" id="lista-transferencias">
                    <!-- Transferências serão adicionadas aqui -->
                </div>
                <div id="sem-dados" class="sem-dados">
                    <i class="fas fa-clipboard-list fa-2x"></i>
                    <p>Nenhuma transferência registrada ainda</p>
                    <p>Registre sua primeira transferência acima</p>
                </div>
            </div>
        </div>
        
        <footer>
            <div class="footer-content">
                <p><i class="fas fa-code"></i> Desenvolvido para registrar o descontrole financeiro</p>
                <p><i class="fas fa-shield-alt"></i> Sistema seguro e sincronizado</p>
                <p>Caio e Itallo - Meu Dinheirinho © 2026</p>
            </div>
        </footer>
    </div>

    <!-- Toast Notificação -->
    <div id="toast" class="toast"></div>

    <!-- Modal de Confirmação -->
    <div id="confirm-modal" class="modal">
        <div class="modal-content">
            <h3><i class="fas fa-exclamation-triangle"></i> Confirmar Exclusão</h3>
            <p id="confirm-message">Tem certeza que deseja excluir esta transferência?</p>
            <div class="modal-buttons">
                <button id="btn-cancelar" class="btn-cancelar">Cancelar</button>
                <button id="btn-confirmar" class="btn-confirmar">Sim, Excluir</button>
            </div>
        </div>
    </div>

    <!-- Modal de Senha para Excluir -->
    <div id="modal-senha" class="modal">
        <div class="modal-content">
            <h3><i class="fas fa-lock"></i> Confirmação de Exclusão</h3>
            <p id="mensagem-senha">Digite a senha para excluir a transferência:</p>
            <input type="password" id="senha-admin" placeholder="Digite a senha" autocomplete="off">
            <div class="modal-buttons">
                <button id="btn-cancelar-senha" class="btn-cancelar">Cancelar</button>
                <button id="btn-verificar-senha" class="btn-confirmar">Verificar Senha</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>